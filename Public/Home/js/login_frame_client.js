var loginFrameClientFunction;var loginRegisterFrameType;var srcUrl;function passportLoginFrame(d,b,g,e){loginFrameClientFunction=g;loginRegisterFrameType=e;var a=encodeURIComponent(returnUrl?returnUrl:window.location.href);var i=window.location.protocol;var j=window.location.host;var f=i+"//"+j;if(b){f=f+b}encodeCurrentDomain=encodeURIComponent(f);srcUrl=d+"/publicPassport/loginFrame.do?fromDomain="+encodeCurrentDomain+"&returnUrl="+a;var h='<iframe id="loginIframe" frameBorder=0 scrolling="no" style="border: 0px none;" width="763" height="270"></iframe>';loginPopup(d,h);var c=$("#loginIframe",document.body);c.focus()}function passportLoginFrameCallback(a,b){closePopDiv();if(b){window.location.href=decodeURIComponent(b)}else{loginFrameClientFunction(a)}}var isIELower=$.browser.msie&&$.browser.version==6||false;
var isFirstOpen=false;function loginPopup(f,d){var e=$("#mod_login_pop_wrap");if(e.length<=0){var a='<div id="mod_login_pop_wrap" style="'+getCssContent(f,"mod_login_pop_wrap")+'"><div id="login_pop_content" style="'+getCssContent(f,"login_pop_content")+'"><i id="close_btn" style="'+getCssContent(f,"close_btn")+'"></i></div></div>';$("body").append(a);isFirstOpen=true;e=$("#mod_login_pop_wrap");if(d!=null){$("#login_pop_content").append(d)}}var b=$(document).height();var c=$(window).scrollTop();$("body").append('<div id="loginPopup_mask" style="'+getCssContent(f,"login_mask")+'"></div>');$("#loginPopup_mask").css("height",b);if(isIELower){animatePopDiv(e,true,c);$(window).scroll(function(){var g=$(window).scrollTop();e.css("top",g)})}else{animatePopDiv(e,true,0)}$("#mod_login_pop_wrap").delegate("#close_btn","click",function(){closePopDiv()
})}function animatePopDiv(a,b,c){if(b){a.stop().animate({top:c},500,function(){$("#loginIframe").attr("src",srcUrl)})}else{a.stop().animate({top:c},500)}}function closePopDiv(){var b=$("#mod_login_pop_wrap");if(b.length<=0){return}if(isIELower){var a=$(window).scrollTop();animatePopDiv(b,false,-368-a);$(window).scroll(function(){var c=$(this).scrollTop();b.css("top",-368-c)})}else{animatePopDiv(b,false,-368)}$("#loginPopup_mask").remove();return false}function getCssContent(b,a){if(a==="login_mask"){return"position:absolute; top:0; left:0; z-index:100001; width:100%; background:#000;opacity:0.1;filter:alpha(opacity=10);"}else{if(a==="mod_login_pop_wrap"){return"position:fixed; _position:absolute; z-index:100002; top:-368px; left:50%;width:785px; padding:0 5px 5px 5px; margin-left:-397px;filter:progid:DXImageTransform.Microsoft.gradient(enabled='true',startColorstr='#33000000', endColorstr='#33000000');background-color:rgba(0,0,0,0.2);"
}else{if(a==="login_pop_content"){return"padding:30px 20px 54px 0; position:relative;border:1px solid #b4b4b4;border-top:0 none; background:#FFF url("+b+"/front-passport/passport/images/yhd_loading.gif) no-repeat center center;"}else{if(a==="close_btn"){return"position:absolute; right:10px; top:10px; display:block; width:12px; height:12px; background:url("+b+"/front-passport/passport/images/login_popup.png) no-repeat -340px 0; cursor:pointer;"}}}}return""};